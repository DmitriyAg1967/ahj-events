(()=>{"use strict";const t=new class{constructor(){this.hit=!1}bindToDOM(t){this.score=t.querySelector(".score"),this.board=t.querySelector(".hole-board")}drawBoard(t){let i="";for(let e=0;e<t**2;e++)i+='<div class="hole"></div>';this.board.innerHTML=i,this.board.addEventListener("mousedown",(t=>this.shot(t))),this.holes=this.board.querySelectorAll(".hole"),this.goblin=document.createElement("img"),this.goblin.src="img/goblin.png",this.goblin.className="goblin"}drawGoblin(t){this.holes[t].appendChild(this.goblin)}hideGoblin(){this.goblin.parentNode.innerHTML=""}drawScore(t,i){this.score.textContent=`|=| Попадания: ${t} |=| Промахи: ${i} |=|`}drawReady(){this.score.textContent="ГОТОВНОСТЬ!!!"}shot(t){this.hit=t.target===this.goblin||t.target===this.goblin.parentNode}};t.bindToDOM(document.querySelector(".game-container"));const i=new class{constructor(t){this.gameUI=t}init(){this.activeIndex=-1,this.size=4,this.gameUI.drawBoard(this.size),this.start()}start(){this.hitCount=0,this.hit=!1,this.missCount=-1,this.gameUI.drawReady(),this.timerID=setInterval((()=>this.moveGoblin()),1e3)}moveGoblin(){const t=this.activeIndex;do{this.activeIndex=Math.trunc(Math.random()*this.size**2)}while(this.activeIndex===t);this.gameUI.drawGoblin(this.activeIndex),this.gameUI.hit?this.hitCount++:this.missCount++,this.gameUI.hit=!1,this.gameUI.drawScore(this.hitCount,this.missCount),this.missCount>4&&(clearInterval(this.timerID),this.gameUI.hideGoblin(),setTimeout((()=>{alert("ИГРА ЗАКОНЧЕНА :("),this.start()}),0))}}(t);i.init()})();